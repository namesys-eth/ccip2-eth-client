(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{48312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(11033)}])},11033:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return F}});var r=n(34051),s=n.n(r),i=n(85893),a=n(67294),o=n(9008),l=n.n(o),c=n(71649),u=n(79747),d=n(5286),f=n(2593),h=n(38197),p=n(29251),m=n(333),x=n(85518),g=n(65721),y=n(2959),v=n(45208),j=n(68059),w=n(48879),b=n(2662),S=n(454),N=n(52459),k=function(e){var t=e.onSearch,n=(0,a.useState)(""),r=n[0],s=n[1];return(0,i.jsx)("form",{style:{display:"flex",alignItems:"center",flexDirection:"column"},onSubmit:function(e){e.preventDefault(),t(r)},children:(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",flexDirection:"row"},children:[(0,i.jsx)("input",{className:"input-main",type:"text",placeholder:"search for a .eth domain",value:r,name:".eth search",id:"eth-search",onChange:function(e){s(e.target.value)},onInvalid:function(e){e.target.setCustomValidity("Please enter a valid .eth name")},onInput:function(e){e.target.setCustomValidity("")},required:!0,pattern:".*\\.eth$",title:"\u2757 Input must end with '.eth'"}),(0,i.jsx)("button",{className:"button",style:{height:"50px",width:"80px",marginLeft:"20px"},type:"submit","data-tooltip":"Search",children:(0,i.jsx)("span",{className:"material-icons",style:{fontSize:"30px",fontWeight:"700"},children:"search"})})]})})},C=n(26786);function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t,n,r,s,i,a){try{var o=e[i](a),l=o.value}catch(c){return void n(c)}o.done?t(l):Promise.resolve(l).then(r,s)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var i=e.apply(t,n);function a(e){_(i,r,s,a,o,"next",e)}function o(e){_(i,r,s,a,o,"throw",e)}a(void 0)}))}}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){E(e,t,n[t])}))}return e}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i=[],a=!0,o=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(l){o=!0,s=l}finally{try{a||null==n.return||n.return()}finally{if(o)throw s}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var R,D="goerli",q={apiKey:"oAgcfmuZf2tff0qnF-FT5xjnr_SxN3DG",network:u.N.ETH_GOERLI,chainId:"5"},M=new u.m(q),A=new m.D(D,q.apiKey),Z=['<span class="material-icons miui">energy_savings_leaf</span><br></br>Gasless <span style="color: skyblue">ENS</span> Records','<span class="material-icons miui">hub</span><br></br>Decentralised Records Storage on <span style="color: skyblue">IPFS</span>','<span class="material-icons miui">recycling</span><br></br>Unlimited Free Updates through in-built <span style="color: skyblue">IPNS</span> Support','<span class="material-icons miui">badge</span><br></br><span style="color: skyblue">Dynamic</span> Avatars, Contenthash and Reverse Resolution','<img class="icon-ens" src="/ccip2-eth-client/ccip2-eth-client/ens-white.png"/><br></br>Enjoy ENS gasfree</span>'],F=function(){var e=(0,d.mA)().data,t=(0,d.$4)().isConnected,n=P(a.useState([]),2),r=n[0],o=n[1],u=P(a.useState(!1),2),m=u[0],I=u[1],_=P(a.useState(!1),2),E=_[0],D=_[1],F=P(a.useState(!1),2),L=F[0],B=F[1],W=P(a.useState(!1),2),z=W[0],H=W[1],G=P(a.useState(!1),2),U=G[0],Y=G[1],$=P(a.useState(""),2),K=$[0],V=$[1],X=P(a.useState(!0),2),J=X[0],Q=X[1],ee=P(a.useState(!1),2),te=ee[0],ne=ee[1],re=P(a.useState(!1),2),se=(re[0],re[1]),ie=P(a.useState("owner"),2),ae=ie[0],oe=ie[1],le=P(a.useState(""),2),ce=le[0],ue=le[1],de=P(a.useState(""),2),fe=de[0],he=de[1],pe=P(a.useState(""),2),me=pe[0],xe=pe[1],ge=P(a.useState(""),2),ye=ge[0],ve=ge[1],je=P(a.useState(""),2),we=je[0],be=(je[1],P(a.useState(""),2)),Se=be[0],Ne=(be[1],P(a.useState(""),2)),ke=Ne[0],Ce=(Ne[1],P(a.useState(""),2)),Ie=Ce[0],_e=Ce[1],Oe=P(a.useState([]),2),Ee=(Oe[0],Oe[1],P(a.useState(!1),2)),Te=(Ee[0],Ee[1]),Pe=P(a.useState(!1),2),Re=Pe[0],De=(Pe[1],P(a.useState({modalData:!1,trigger:!1}),2)),qe=De[0],Me=De[1];function Ae(){return Ze.apply(this,arguments)}function Ze(){return(Ze=O(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={type:"gas"},e.prev=1,e.next=4,fetch("https://sshmatrix.club:3003/gas",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){return e.response.gas}));case 4:e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(1),console.log("Failed to get gas data from CCIP2 backend"),e.abrupt("return","");case 10:return e.abrupt("return","");case 11:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}var Fe=(0,a.useCallback)(O(s().mark((function t(){var n,r,i,a,l,c,u;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.nft.getNftsForOwner((null===e||void 0===e?void 0:e.address)?e.address:"");case 2:n=t.sent,r=n.ownedNfts,i=[],a=[],l=0,c=0;case 8:if(!(c<r.length)){t.next=19;break}if(!C.O.includes(r[c].contract.address)){t.next=16;break}return l+=1,i.push(r[c].title.split(".eth")[0]),t.next=14,A.getResolver(r[c].title);case 14:u=t.sent,a.push({key:l,name:r[c].title.split(".eth")[0],migrated:(null===u||void 0===u?void 0:u.address)===C.bt});case 16:c++,t.next=8;break;case 19:o(a),ne(0===l),setTimeout((function(){Q(!1)}),2e3);case 22:case"end":return t.stop()}}),t)}))),[Re]),Le=(0,a.useCallback)(O(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=3;break}return t.next=3,Fe();case 3:case"end":return t.stop()}}),t)}))),[e,Fe]);a.useEffect((function(){oe("search");var e=function(){var e=O(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae();case 2:t=e.sent,ve(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),a.useEffect((function(){if(Re){Q(!0);var e=function(){var e=O(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le().then((function(){R&&(o(R),setTimeout((function(){Q(!1)}),2e3))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}else Q(!1)}),[Re,qe]),a.useEffect((function(){var e=function(){R=r};return window.addEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)}}),[r]);var Be=(0,d.do)(C.qP[1],"getApproved",{args:[ce]}).data,We=(0,d.do)(C.qP[1],"ownerOf",{args:[ce]}).data;a.useEffect((function(){Be&&(null===Be||void 0===Be?void 0:Be.toString())!=="0x"+"0".repeat(40)?he(Be.toString()):(null===Be||void 0===Be?void 0:Be.toString())==="0x"+"0".repeat(40)&&We?he(We.toString()):"owner"!==ae&&setTimeout((function(){Q(!1),Te(!1)}),2e3)}),[ce,Be,We,ae]),a.useEffect((function(){if(fe===(null===e||void 0===e?void 0:e.address)){Te(!0);var t=[];[].push(me.split(".eth")[0]);var n=function(){var e=O(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A.getResolver(me).then((function(e){t.push({key:1,name:me.split(".eth")[0],migrated:(null===e||void 0===e?void 0:e.address)===C.bt}),t?(o(t),se(!0),console.log("You are owner/manager"),H(!1),Q(!1)):(se(!1),ne(!0))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();n()}else H(!0),se(!1)}),[fe,null===e||void 0===e?void 0:e.address,me]),a.useEffect((function(){if(me)try{var e=h.keccak256(p.Y0(me.split(".eth")[0])),t=f.O$.from(e);ue(t.toString())}catch(n){console.log("BigNumberWarning")}}),[me]);return(0,i.jsxs)("div",{className:"page",style:{maxWidth:"100%",justifyContent:"center",display:"flex",flexDirection:"column",top:"20px"},children:[(0,i.jsx)("div",{style:{margin:"20px",width:"60%",display:"flex",justifyContent:"flex-start"},children:(0,i.jsx)("img",{className:"avatar",alt:"sample",src:"logo.png"})}),(0,i.jsxs)(l(),{children:[(0,i.jsx)("title",{children:"CCIP2 - Off-chain Records Manager"}),(0,i.jsx)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width, user-scalable=no"}),(0,i.jsx)("link",{rel:"shortcut icon",href:"logo.png"}),(0,i.jsx)("link",{rel:"preload",as:"style",href:"https://fonts.googleapis.com/icon?family=Material+Icons"}),(0,i.jsx)("link",{rel:"preload",href:"SF-Mono.woff2",as:"font",type:"font/woff2",crossOrigin:"anonymous"}),(0,i.jsx)("link",{rel:"preload",href:"Spotnik.woff2",as:"font",type:"font/woff2",crossOrigin:"anonymous"})]}),(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"end"},children:[(0,i.jsxs)("div",{className:"connect-button",style:{width:"100%",display:"flex",justifyContent:"flex-end"},children:[(0,i.jsx)("button",{className:"button clear",onClick:function(){window.scrollTo(0,0),I(!0)},style:{marginRight:10},"data-tooltip":"Learn more",children:(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},children:["about",(0,i.jsx)("span",{style:{fontFamily:"SF Mono"},children:"\xa0"}),(0,i.jsx)("span",{className:"material-icons",children:"info"})]})}),(0,i.jsx)("button",{className:"button clear",onClick:function(){window.scrollTo(0,0),B(!0)},style:{marginRight:10},"data-tooltip":"Terms of Use",children:(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},children:["terms","\xa0",(0,i.jsx)("span",{className:"material-icons",children:"gavel"})]})}),!x.tq&&(0,i.jsx)("div",{children:(0,i.jsx)(c.NL,{label:"connect"})}),x.tq&&(0,i.jsx)("div",{children:(0,i.jsx)(c.NL,{label:"connect"})})]}),t&&(0,i.jsx)("div",{style:{marginRight:x.tq?"0":"15px",paddingRight:"10px"},children:(0,i.jsx)("button",{className:"button",onClick:function(){window.location.href="/account"},style:{marginRight:15,marginTop:12},"data-tooltip":"My Names",children:(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},children:["Ny Names","\xa0",(0,i.jsx)("span",{className:"material-icons",children:"admin_panel_settings"})]})})}),(0,i.jsx)("div",{style:{marginRight:x.tq?"0":"15px",paddingRight:"10px"},children:(0,i.jsx)(S.Z,{variable:ye})})]}),(0,i.jsx)("div",{className:"container",style:{maxWidth:"inherit",margin:"50px 0 0 0"},children:(0,i.jsxs)("div",{style:{flex:"1 1 auto"},children:[(0,i.jsx)("div",{style:{marginTop:"-35px"},children:(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"center",textAlign:"center"},children:[!x.tq&&!t&&(0,i.jsxs)("div",{children:[(0,i.jsx)("img",{className:"icon-ens",alt:"sample-icon",src:"ens-red.png"}),(0,i.jsx)("h4",{style:{fontSize:36,color:"white"},children:"Off-chain Records Manager"})]}),!x.tq&&t&&(0,i.jsxs)("div",{style:{marginTop:"-50px"},children:[(0,i.jsx)("img",{className:"icon-ens",alt:"sample-icon",src:"ens-red.png"}),(0,i.jsx)("h4",{style:{fontSize:22,color:"white"},children:"Off-chain Records Manager"})]}),x.tq&&!t&&(0,i.jsxs)("div",{children:[(0,i.jsx)("img",{className:"icon-ens",alt:"sample-icon",src:"ens-red.png"}),(0,i.jsx)("h4",{style:{fontSize:26,color:"white"},children:"Off-chain Records Manager"})]}),x.tq&&t&&(0,i.jsxs)("div",{children:[(0,i.jsx)("img",{className:"icon-ens",alt:"sample-icon",src:"ens-red.png"}),(0,i.jsx)("h4",{style:{fontSize:18,color:"white"},children:"Off-chain Records Manager"})]})]})}),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),t&&(0,i.jsx)("div",{className:"main-search-container",style:{maxHeight:"520px",overflowY:"auto",marginBottom:"100px"},children:(0,i.jsx)(k,{onSearch:function(e){Q(!0),_e("search"),xe(e),console.log("Searching for ".concat(e))}})}),t&&!Re&&(0,i.jsx)("div",{style:{marginBottom:"0px"},children:(0,i.jsx)("div",{className:"content-slider",children:(0,i.jsx)("div",{className:"slider",children:(0,i.jsx)("div",{className:"mask",children:(0,i.jsx)("ul",{children:Z.map((function(e,t){return(0,i.jsx)("li",{className:"anim".concat(t+1),children:(0,i.jsx)("div",{className:"home-modal-item",children:(0,i.jsx)("div",{dangerouslySetInnerHTML:{__html:e}})})},t)}))})})})})}),J&&t&&(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{style:{alignItems:"center",justifyContent:"center",display:"flex",flexDirection:"column",marginTop:"50px",marginBottom:"200px"},children:[(0,i.jsx)("div",{style:{paddingBottom:"10px",alignItems:"center",justifyContent:"center",display:"flex"},children:(0,i.jsx)(N.Z,{height:60,width:60})}),(0,i.jsx)("div",{style:{marginTop:"40px"},children:(0,i.jsx)("span",{style:{color:"white",fontWeight:"700"},children:"owner"!==ae?"Please Wait":qe.modalData?"Please wait":"Loading Names"})})]}),(0,i.jsx)("h1",{children:"please wait"})]}),!J&&"search"===ae&&r.length>0&&t&&!te&&(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{style:{alignItems:"center",justifyContent:"center",display:"flex",fontSize:"18px",color:"skyblue",marginBottom:"25px",fontWeight:"700"},children:"search result"}),(0,i.jsx)("div",{className:"list-container",style:{maxHeight:"520px",overflowY:"auto",marginBottom:"50px"},children:(0,i.jsx)(b.Z,{items:r,onItemClick:function(e){Y(!0),V(e)}})})]}),(0,i.jsxs)("div",{style:{color:"white",marginTop:"20%",marginBottom:20,alignItems:"center",justifyContent:"center",display:"flex"},children:[(0,i.jsx)("span",{className:"material-icons",children:"folder_open"}),"\xa0",(0,i.jsx)("a",{href:"https://github.com/namesys-eth/ccip2-eth-client",className:"footer-text",target:"_blank",rel:"noreferrer",children:"GitHub"})]}),(0,i.jsxs)("div",{id:"modal",children:[U&&(0,i.jsx)(v.Z,{onClose:function(){return Y(!1)},show:U,_ENS_:K,chain:q.chainId,handleParentTrigger:function(e){Me((function(t){return T({},t,{trigger:e})}))},handleParentModalData:function(e){Me((function(t){return T({},t,{modalData:e})}))},children:!0}),(0,i.jsx)(j.Z,{onClose:function(){return I(!1)},show:m}),(0,i.jsx)(y.Z,{onClose:function(){return B(!1)},show:L}),(0,i.jsx)(w.Z,{onClose:function(){H(!1),ue(""),xe(""),he("")},show:z&&"manager"===Ie&&fe&&!J,title:"block",children:"you are not manager"}),(0,i.jsx)(w.Z,{onClose:function(){H(!1),ue(""),xe(""),he("")},show:z&&"search"===Ie&&fe&&!J,title:"block",children:"not owner or manager"}),(0,i.jsx)(g.Z,{color:Se,_ENS_:we,onClose:function(){return D(!1)},show:E,children:ke})]})]})})]})}}},function(e){e.O(0,[543,874,788,764,789,750,774,888,179],(function(){return t=48312,e(e.s=t);var t}));var t=e.O();_N_E=t}]);