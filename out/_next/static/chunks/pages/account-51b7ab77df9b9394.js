(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[966],{682:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account",function(){return t(91290)}])},91290:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return L}});var s=t(34051),i=t.n(s),r=t(85893),a=t(67294),o=t(9008),l=t.n(o),c=t(41664),u=t.n(c),d=t(25675),f=t.n(d),h=t(71649),m=t(79747),x=t(5286),p=t(2593),g=t(38197),y=t(29251),j=t(333),v=t(85518),b=t(65721),w=t(2959),S=t(45208),N=t(68059),k=t(48879),C=t(2662),I=t(454),_=t(52459),T=function(e){var n=e.onSearch,t=(0,a.useState)(""),s=t[0],i=t[1];return(0,r.jsx)("form",{style:{display:"flex",alignItems:"center",flexDirection:"column"},onSubmit:function(e){e.preventDefault(),n(s)},children:(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{type:"text",placeholder:"search .eth",value:s,name:".eth search",id:"eth-search",onChange:function(e){i(e.target.value)},onInvalid:function(e){e.target.setCustomValidity("Please enter a valid .eth name")},onInput:function(e){e.target.setCustomValidity("")},required:!0,pattern:".*\\.eth$",title:"\u2757 Input must end with '.eth'"}),(0,r.jsx)("button",{className:"button",style:{height:"30px",width:"50px",marginLeft:"20px"},type:"submit","data-tooltip":"Search",children:"Go"})]})})},E=t(26786);function D(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,s=new Array(n);t<n;t++)s[t]=e[t];return s}function O(e,n,t,s,i,r,a){try{var o=e[r](a),l=o.value}catch(c){return void t(c)}o.done?n(l):Promise.resolve(l).then(s,i)}function R(e){return function(){var n=this,t=arguments;return new Promise((function(s,i){var r=e.apply(n,t);function a(e){O(r,s,i,a,o,"next",e)}function o(e){O(r,s,i,a,o,"throw",e)}a(void 0)}))}}function P(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function B(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},s=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),s.forEach((function(n){P(e,n,t[n])}))}return e}function q(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var s,i,r=[],a=!0,o=!1;try{for(t=t.call(e);!(a=(s=t.next()).done)&&(r.push(s.value),!n||r.length!==n);a=!0);}catch(l){o=!0,i=l}finally{try{a||null==t.return||t.return()}finally{if(o)throw i}}return r}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return D(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return D(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var A,F="goerli",M={apiKey:"oAgcfmuZf2tff0qnF-FT5xjnr_SxN3DG",network:m.N.ETH_GOERLI,chainId:"5"},Z=new m.m(M),z=new j.D(F,M.apiKey),W=['<span class="material-icons miui">energy_savings_leaf</span><br></br>Gasless <span style="color: skyblue">ENS</span> Records','<span class="material-icons miui">hub</span><br></br>Decentralised Records Storage on <span style="color: skyblue">IPFS</span>','<span class="material-icons miui">recycling</span><br></br>Unlimited Free Updates through in-built <span style="color: skyblue">IPNS</span> Support','<span class="material-icons miui">badge</span><br></br><span style="color: skyblue">Dynamic</span> Avatars, Contenthash and Reverse Resolution','<img class="icon-ens" src="/ens-white.png"/><br></br>Enjoy ENS gasfree</span>'],L=function(){var e=(0,x.mA)().data,n=(0,x.$4)().isConnected,t=q(a.useState([]),2),s=t[0],o=t[1],c=q(a.useState(!1),2),d=c[0],m=c[1],j=q(a.useState(!1),2),D=j[0],O=j[1],P=q(a.useState(!1),2),F=P[0],L=P[1],H=q(a.useState(!1),2),Y=H[0],G=H[1],U=q(a.useState(!1),2),$=U[0],K=U[1],V=q(a.useState(""),2),X=V[0],J=V[1],Q=q(a.useState(!0),2),ee=Q[0],ne=Q[1],te=q(a.useState(!1),2),se=te[0],ie=te[1],re=q(a.useState(!1),2),ae=re[0],oe=re[1],le=q(a.useState("owner"),2),ce=le[0],ue=le[1],de=q(a.useState(""),2),fe=de[0],he=de[1],me=q(a.useState(""),2),xe=me[0],pe=me[1],ge=q(a.useState(""),2),ye=ge[0],je=ge[1],ve=q(a.useState(""),2),be=ve[0],we=ve[1],Se=q(a.useState(""),2),Ne=Se[0],ke=Se[1],Ce=q(a.useState(""),2),Ie=Ce[0],_e=Ce[1],Te=q(a.useState(""),2),Ee=Te[0],De=Te[1],Oe=q(a.useState(""),2),Re=Oe[0],Pe=Oe[1],Be=q(a.useState([]),2),qe=Be[0],Ae=Be[1],Fe=q(a.useState(!1),2),Me=Fe[0],Ze=Fe[1],ze=q(a.useState({modalData:!1,trigger:!1}),2),We=ze[0],Le=ze[1];function He(){return Ye.apply(this,arguments)}function Ye(){return(Ye=R(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={type:"gas"},e.prev=1,e.next=4,fetch("https://sshmatrix.club:3003/gas",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){return e.response.gas}));case 4:e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(1),console.log("Failed to get gas data from CCIP2 backend"),e.abrupt("return","");case 10:return e.abrupt("return","");case 11:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}var Ge=(0,a.useCallback)(R(i().mark((function n(){var t,s,r,a,l,c,u;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Z.nft.getNftsForOwner((null===e||void 0===e?void 0:e.address)?e.address:"");case 2:t=n.sent,s=t.ownedNfts,r=[],a=[],l=0,c=0;case 8:if(!(c<s.length)){n.next=19;break}if(!E.O.includes(s[c].contract.address)||!s[c].title){n.next=16;break}return l+=1,r.push(s[c].title.split(".eth")[0]),n.next=14,z.getResolver(s[c].title);case 14:u=n.sent,a.push({key:l,name:s[c].title.split(".eth")[0],migrated:(null===u||void 0===u?void 0:u.address)===E.bt});case 16:c++,n.next=8;break;case 19:o(a),ie(0===l),setTimeout((function(){ne(!1)}),2e3);case 22:case"end":return n.stop()}}),n)}))),[e]),Ue=(0,a.useCallback)(R(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=3;break}return n.next=3,Ge();case 3:case"end":return n.stop()}}),n)}))),[e,Ge]);a.useEffect((function(){var e=function(){var e=R(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He();case 2:n=e.sent,we(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),a.useEffect((function(){ne(!0);var e=function(){var e=R(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue().then((function(){A&&(o(A),setTimeout((function(){ne(!1)}),2e3))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[e,n,Ue,We]),a.useEffect((function(){var e=function(){A=s};return window.addEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)}}),[s]);var $e=function(e){K(!0),J(e)},Ke=(0,x.do)(E.qP[1],"getApproved",{args:[fe]}).data,Ve=(0,x.do)(E.qP[1],"ownerOf",{args:[fe]}).data;a.useEffect((function(){Ke&&(null===Ke||void 0===Ke?void 0:Ke.toString())!=="0x"+"0".repeat(40)?pe(Ke.toString()):(null===Ke||void 0===Ke?void 0:Ke.toString())==="0x"+"0".repeat(40)&&Ve?pe(Ve.toString()):"owner"!==ce&&setTimeout((function(){ne(!1),Ze(!1)}),2e3)}),[fe,Ke,Ve,ce]),a.useEffect((function(){if(xe===(null===e||void 0===e?void 0:e.address)){Ze(!0);var n=[];[].push(ye.split(".eth")[0]);var t=function(){var e=R(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:z.getResolver(ye).then((function(e){n.push({key:1,name:ye.split(".eth")[0],migrated:(null===e||void 0===e?void 0:e.address)===E.bt}),n?(o(n),oe(!0),console.log("You are owner/manager"),G(!1),ne(!1)):(oe(!1),ie(!0))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t()}else G(!0),oe(!1)}),[xe,null===e||void 0===e?void 0:e.address,ye]),a.useEffect((function(){if(ye)try{var e=g.keccak256(y.Y0(ye.split(".eth")[0])),n=p.O$.from(e);he(n.toString())}catch(t){console.log("BigNumberWarning")}}),[ye]);return(0,r.jsxs)("div",{className:"page",style:{maxWidth:"100%",justifyContent:"center",display:"flex",flexDirection:"column",top:"20px"},children:[(0,r.jsx)("div",{style:{margin:"20px",width:"60%",display:"flex",justifyContent:"flex-start"},children:(0,r.jsx)(u(),{href:"/",children:(0,r.jsx)("a",{children:(0,r.jsx)(f(),{className:"avatar",src:"/logo.png",alt:"logo",width:v.tq?"201%":"132%",height:v.tq?"201%":"132%"})})})}),(0,r.jsxs)(l(),{children:[(0,r.jsx)("title",{children:"CCIP2 - Off-chain Records Manager"}),(0,r.jsx)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width, user-scalable=no"}),(0,r.jsx)("link",{rel:"shortcut icon",href:"logo.png"}),(0,r.jsx)("link",{rel:"preload",as:"style",href:"https://fonts.googleapis.com/icon?family=Material+Icons"}),(0,r.jsx)("link",{rel:"preload",href:"SF-Mono.woff2",as:"font",type:"font/woff2",crossOrigin:"anonymous"}),(0,r.jsx)("link",{rel:"preload",href:"Spotnik.woff2",as:"font",type:"font/woff2",crossOrigin:"anonymous"})]}),(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"end",marginTop:"-3px"},children:[(0,r.jsxs)("div",{className:"connect-button",style:{width:"100%",display:"flex",justifyContent:"flex-end"},children:[(0,r.jsx)("button",{className:"button clear",onClick:function(){window.scrollTo(0,0),m(!0)},style:{marginRight:10},"data-tooltip":"Learn more",children:(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},children:["about",(0,r.jsx)("span",{style:{fontFamily:"SF Mono"},children:"\xa0"}),(0,r.jsx)("span",{className:"material-icons",children:"info"})]})}),(0,r.jsx)("button",{className:"button clear",onClick:function(){window.scrollTo(0,0),L(!0)},style:{marginRight:10},"data-tooltip":"Terms of Use",children:(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},children:["terms","\xa0",(0,r.jsx)("span",{className:"material-icons",children:"gavel"})]})}),!v.tq&&(0,r.jsx)("div",{children:(0,r.jsx)(h.NL,{label:"connect"})}),v.tq&&(0,r.jsx)("div",{children:(0,r.jsx)(h.NL,{label:"connect"})})]}),(0,r.jsx)("div",{style:{marginRight:v.tq?"0":"15px",paddingRight:"10px"},children:(0,r.jsx)("button",{className:"button clear",onClick:function(){window.location.href="/"},style:{marginRight:15,marginTop:12},"data-tooltip":"My Names",children:(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},children:["Home","\xa0",(0,r.jsx)("span",{className:"material-icons",children:"home"})]})})}),(0,r.jsx)("div",{style:{marginRight:v.tq?"0":"15px",paddingRight:"10px"},children:(0,r.jsx)(I.Z,{variable:be})})]}),(0,r.jsx)("div",{className:"container",style:{maxWidth:"inherit",margin:"50px 0 0 0"},children:(0,r.jsxs)("div",{style:{flex:"1 1 auto"},children:[(0,r.jsx)("div",{style:{marginTop:"-20px"},children:(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"center",textAlign:"center"},children:[!v.tq&&!n&&(0,r.jsxs)("div",{children:[(0,r.jsx)("img",{className:"icon-ens",alt:"sample-icon",src:"ens-red.png"}),(0,r.jsx)("h4",{style:{fontSize:26,color:"#fc6603"},children:"Off-chain Records Manager"})]}),!v.tq&&n&&(0,r.jsx)("div",{style:{marginTop:"-50px"},children:(0,r.jsx)("h4",{style:{fontSize:22,color:"#fc6603"},children:"Your Names"})}),v.tq&&!n&&(0,r.jsxs)("div",{children:[(0,r.jsx)("img",{className:"icon-ens",alt:"sample-icon",src:"ens-red.png"}),(0,r.jsx)("h4",{style:{fontSize:26,color:"#fc6603"},children:"Off-chain Records Manager"})]}),v.tq&&n&&(0,r.jsxs)("div",{children:[(0,r.jsx)("img",{className:"icon-ens",alt:"sample-icon",src:"ens-red.png"}),(0,r.jsx)("h4",{style:{fontSize:18,color:"#fc6603"},children:"Your Names"})]})]})}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),!n&&(0,r.jsx)("div",{style:{marginBottom:"0px"},children:(0,r.jsx)("div",{className:"content-slider",children:(0,r.jsx)("div",{className:"slider",children:(0,r.jsx)("div",{className:"mask",children:(0,r.jsx)("ul",{children:W.map((function(e,n){return(0,r.jsx)("li",{className:"anim".concat(n+1),children:(0,r.jsx)("div",{className:"home-modal-item",children:(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:e}})})},n)}))})})})})}),n&&(0,r.jsxs)("div",{style:{alignItems:"center",justifyContent:"center",display:"flex",flexDirection:"row",marginBottom:"50px",marginTop:"-30px"},children:[(0,r.jsx)("button",{onClick:function(){ue("owner"),o(qe),he(""),je(""),oe(!1),pe(""),ne(!0),setTimeout((function(){ne(!1)}),2e3)},className:"button-header",disabled:"owner"===ce,"data-tooltip":"Show names you own",children:(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},children:["owned","\xa0",(0,r.jsx)("span",{className:"material-icons",children:"manage_accounts"})]})}),(0,r.jsx)("button",{onClick:function(){"search"===ce?console.log(qe):Ae(s),o([]),ue("manager"),oe(!1),pe(""),ne(!0),setTimeout((function(){ne(!1)}),2e3)},className:"button-header",disabled:"manager"===ce||ee,"data-tooltip":"Search for a name that you manage",children:(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},children:["managed","\xa0",(0,r.jsx)("span",{className:"material-icons",children:"supervised_user_circle"})]})}),(0,r.jsx)("button",{onClick:function(){"manager"===ce?console.log(qe):Ae(s),o([]),ue("search"),oe(!1),pe(""),ne(!0),setTimeout((function(){ne(!1)}),2e3)},className:"button-header",disabled:"search"===ce||ee,"data-tooltip":"Search for an ENS name",children:(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},children:["search","\xa0",(0,r.jsx)("span",{className:"material-icons",children:"search"})]})})]}),ee&&n&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{style:{alignItems:"center",justifyContent:"center",display:"flex",flexDirection:"column",marginTop:"50px",marginBottom:"200px"},children:[(0,r.jsx)("div",{style:{paddingBottom:"10px",alignItems:"center",justifyContent:"center",display:"flex"},children:(0,r.jsx)(_.Z,{height:60,width:60})}),(0,r.jsx)("div",{style:{marginTop:"40px"},children:(0,r.jsx)("span",{style:{color:"white",fontWeight:"700"},children:"owner"!==ce?"Please Wait":We.modalData?"Please wait":"Loading Names"})})]}),(0,r.jsx)("h1",{children:"please wait"})]}),!ee&&"owner"===ce&&s.length>0&&n&&!se&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{style:{alignItems:"center",justifyContent:"center",display:"flex",fontSize:"18px",color:"skyblue",marginBottom:"25px",fontWeight:"700"},children:[(0,r.jsx)("span",{style:{marginRight:"5px"},children:"names you own"}),(0,r.jsx)("button",{className:"button-tiny",onClick:function(){O(!0),ke("info"),_e("skyblue"),De("if a name that you own is not listed, please use the search \ud83d\udd0e tab")},children:(0,r.jsx)("div",{className:"material-icons smol",style:{color:"skyblue"},children:"info_outline"})})]}),(0,r.jsx)("div",{className:"list-container",style:{maxHeight:"520px",overflowY:"auto",marginBottom:"50px"},children:(0,r.jsx)(C.Z,{items:s,onItemClick:$e})})]}),!ee&&("manager"===ce||"search"===ce)&&s.length>0&&n&&!se&&(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{style:{alignItems:"center",justifyContent:"center",display:"flex",fontSize:"18px",color:"skyblue",marginBottom:"25px",fontWeight:"700"},children:"search result"}),(0,r.jsx)("div",{className:"list-container",style:{maxHeight:"520px",overflowY:"auto",marginBottom:"50px"},children:(0,r.jsx)(C.Z,{items:s,onItemClick:$e})})]}),!ee&&"manager"===ce&&!ae&&s&&n&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{style:{alignItems:"center",justifyContent:"center",display:"flex",fontSize:"18px",color:"skyblue",marginBottom:"25px",fontWeight:"700"},children:[(0,r.jsx)("span",{style:{marginRight:"5px"},children:"names you manage"}),(0,r.jsx)("button",{className:"button-tiny",onClick:function(){O(!0),ke("info"),_e("skyblue"),De("search for an ENS name that you manage (or own)")},children:(0,r.jsx)("div",{className:"material-icons smol",style:{color:"skyblue"},children:"info_outline"})})]}),(0,r.jsx)("div",{className:"search-container",style:{maxHeight:"520px",overflowY:"auto",marginBottom:"50px"},children:(0,r.jsx)(T,{onSearch:function(e){ne(!0),Pe("manager"),je(e),console.log("Searching Manager for ".concat(e))}})})]}),!ee&&"search"===ce&&!ae&&s&&n&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{style:{alignItems:"center",justifyContent:"center",display:"flex",fontSize:"18px",color:"skyblue",marginBottom:"25px"},children:[(0,r.jsx)("span",{style:{marginRight:"5px"},children:"search names"}),(0,r.jsx)("button",{className:"button-tiny",onClick:function(){O(!0),ke("info"),_e("skyblue"),De("search for a name")},children:(0,r.jsx)("div",{className:"material-icons smol",style:{color:"skyblue"},children:"info_outline"})})]}),(0,r.jsx)("div",{className:"search-container",style:{maxHeight:"520px",overflowY:"auto",marginBottom:"50px"},children:(0,r.jsx)(T,{onSearch:function(e){ne(!0),Pe("search"),je(e),console.log("Searching for ".concat(e))}})})]}),!ee&&se&&"owner"===ce&&(0,r.jsx)("div",{children:(0,r.jsxs)("div",{style:{alignItems:"center",justifyContent:"center",display:"flex",flexDirection:"column",fontSize:"22px",color:"white",marginBottom:"25px",fontWeight:"700"},children:[(0,r.jsx)("span",{className:"material-icons miui-smaller",children:"warning"}),(0,r.jsx)("br",{}),"No Names Found"]})}),!Me&&!xe&&ye&&"owner"!==ce&&!ee&&(0,r.jsx)("div",{children:(0,r.jsxs)("div",{style:{alignItems:"center",justifyContent:"center",display:"flex",flexDirection:"column",fontSize:"22px",color:"white",marginBottom:"25px",fontWeight:"700"},children:[(0,r.jsx)("span",{className:"material-icons miui-smaller",children:"warning"}),(0,r.jsx)("br",{}),"No Names Found"]})}),(0,r.jsxs)("div",{style:{color:"white",marginTop:"0%",marginBottom:20,alignItems:"center",justifyContent:"center",display:"flex"},children:[(0,r.jsx)("span",{className:"material-icons",children:"folder_open"}),"\xa0",(0,r.jsx)("a",{href:"https://github.com/namesys-eth/ccip2-eth-client",className:"footer-text",target:"_blank",rel:"noreferrer",children:"GitHub"})]}),(0,r.jsxs)("div",{id:"modal",children:[$&&(0,r.jsx)(S.Z,{onClose:function(){return K(!1)},show:$,_ENS_:X,chain:M.chainId,handleParentTrigger:function(e){Le((function(n){return B({},n,{trigger:e})}))},handleParentModalData:function(e){Le((function(n){return B({},n,{modalData:e})}))},children:!0}),(0,r.jsx)(N.Z,{onClose:function(){return m(!1)},show:d}),(0,r.jsx)(w.Z,{onClose:function(){return L(!1)},show:F}),(0,r.jsx)(k.Z,{onClose:function(){G(!1),he(""),je(""),pe("")},show:Y&&"manager"===Re&&xe&&!ee,title:"block",children:"you are not manager"}),(0,r.jsx)(k.Z,{onClose:function(){G(!1),he(""),je(""),pe("")},show:Y&&"search"===Re&&xe&&!ee,title:"block",children:"not owner or manager"}),(0,r.jsx)(b.Z,{color:Ie,_ENS_:Ne,onClose:function(){return O(!1)},show:D,children:Ee})]})]})})]})}}},function(e){e.O(0,[543,874,788,764,789,61,750,774,888,179],(function(){return n=682,e(e.s=n);var n}));var n=e.O();_N_E=n}]);